# 管理者画面ガイド

## アクセス方法

### 1. 管理者ダッシュボード
```
https://your-vercel-domain.vercel.app/admin
```

**ログイン情報:**
- パスワード: `admin123`

### 2. 設定管理
```
https://your-vercel-domain.vercel.app/admin/settings
```

### 3. デバッグページ（環境変数確認）
```
https://your-vercel-domain.vercel.app/debug
```

## 機能一覧

### 📊 ダッシュボード (`/admin`)
- **統計表示**
  - 今日の予約数
  - 今週の予約数
  - 今月の予約数
  - 総売上
- **予約一覧**
  - 最近の予約（最大50件）
  - 予約ID、顧客名、電話番号、商品、金額、予約日時

### ⚙️ 設定管理 (`/admin/settings`)
- **プリセット管理**
  - プリセット一覧表示
  - プレビューリンク
  - 編集・削除機能（開発中）
- **商品管理**
  - 商品一覧表示
  - 商品情報編集（開発中）
- **フォーム設定**
  - フォーム設定管理（開発中）

### 🔧 デバッグページ (`/debug`)
- **環境変数確認**
  - クライアントサイド環境変数の状態確認
- **Supabase接続テスト**
  - データベース接続の確認

## セキュリティ

### 現在の認証方式
- 簡単なパスワード認証（`admin123`）

### 本番環境での推奨設定
1. **環境変数でパスワード管理**
   ```
   ADMIN_PASSWORD=your-secure-password
   ```

2. **IPアドレス制限**
   - Vercelの設定でアクセス元IPを制限

3. **より強力な認証システム**
   - JWT認証
   - セッション管理
   - 多要素認証

## データベース直接アクセス

管理者画面では表示のみの機能が多いため、詳細な設定はSupabaseの管理画面で行ってください。

### Supabase管理画面
```
https://supabase.com/dashboard/project/uscvsipskkbegcfktjyt
```

### 主要テーブル
- `product_presets`: フォームプリセット
- `products`: 商品マスタ
- `form_settings`: フォーム設定
- `pickup_windows`: 引き取り時間設定
- `reservations`: 予約データ
- `notification_logs`: 通知ログ

## トラブルシューティング

### 管理者画面にアクセスできない
1. `/debug` ページで環境変数を確認
2. Supabase接続テストを実行
3. ブラウザのコンソールでエラーを確認

### データが表示されない
1. Supabaseの管理画面でデータの存在を確認
2. 権限設定（RLS）を確認
3. ネットワーク接続を確認

### パスワードを忘れた場合
- 現在のパスワード: `admin123`
- 変更する場合は `/src/app/admin/page.tsx` の `ADMIN_PASSWORD` を修正

## 今後の開発予定

- [ ] 予約データの編集・削除機能
- [ ] 商品の追加・編集・削除機能
- [ ] フォーム設定のGUI編集機能
- [ ] CSVエクスポート機能
- [ ] より強力な認証システム
- [ ] 通知設定管理
- [ ] アクセスログ機能