exports.id=161,exports.ids=[161],exports.modules={8359:()=>{},3739:()=>{},778:(e,t,s)=>{Promise.resolve().then(s.bind(s,7382)),Promise.resolve().then(s.bind(s,1058))},9721:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},8871:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(326),a=s(7577);async function n(e){try{let t=await fetch(`https://zipcloud.ibsnet.co.jp/api/search?zipcode=${e}`),s=await t.json();if(200===s.status&&s.results&&s.results.length>0){let e=s.results[0];return{prefecture:e.address1,city:e.address2,town:e.address3,fullAddress:`${e.address1}${e.address2}${e.address3}`}}return null}catch(e){return console.error("住所検索エラー:",e),null}}function l({formConfig:e}){let[t,s]=(0,a.useState)({}),[l,i]=(0,a.useState)(new Set),[o,c]=(0,a.useState)(!1),d=e=>r=>{s({...t,[e]:r.target.value})},u=e=>{let r=function(e){let t=e.replace(/[^0-9]/g,"");return t.length<=3?t:`${t.slice(0,3)}-${t.slice(3,7)}`}(e.target.value);s({...t,postal_code:r}),r.replace(/[^0-9]/g,"").length<7&&l.size>0&&(s(e=>({...e,prefecture:"",city:"",address:""})),i(new Set))},m=async()=>{let e=(t.postal_code||"").replace(/[^0-9]/g,"");if(7===e.length){c(!0);try{let t=await n(e);t&&(s(e=>({...e,prefecture:t.prefecture||"",city:t.city||"",address:t.town||""})),i(new Set(["prefecture","city"])))}catch(e){console.error("住所検索エラー:",e)}finally{c(!1)}}},x=()=>{s(e=>({...e,prefecture:"",city:"",address:""})),i(new Set)},h=e=>l.has(e)&&("prefecture"===e||"city"===e)?"w-full px-3 py-2 border border-green-300 bg-green-50 rounded-md text-sm":"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",p=e=>l.has(e)&&("prefecture"===e||"city"===e),g=()=>{let e=(t.postal_code||"").replace(/[^0-9]/g,"");return 0===e.length?"郵便番号を入力してください":e.length<7?`あと${7-e.length}桁入力してください`:7===e.length?"タップして住所を検索":""},y=e.fields.filter(e=>!1!==e.enabled);return(0,r.jsxs)("div",{className:"max-w-lg mx-auto bg-white border rounded-lg p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:e.name}),r.jsx("p",{className:"text-gray-600 text-sm",children:e.description})]}),(0,r.jsxs)("form",{className:"space-y-6",children:[y.map(e=>{let s=t[e.id]||"";return"postal_code"===e.id?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"}),o&&r.jsx("span",{className:"text-sm text-blue-600 ml-2",children:"住所を検索中..."})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:s,onChange:u,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:e.placeholder||"例: 123-4567",maxLength:8}),r.jsx("button",{type:"button",onClick:m,disabled:o||7!==s.replace(/[^0-9]/g,"").length,title:g(),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${o||7!==s.replace(/[^0-9]/g,"").length?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:o?"検索中...":"住所検索"}),l.size>0&&r.jsx("button",{type:"button",onClick:x,className:"px-3 py-2 text-sm bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"クリア"})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsx("p",{children:"\uD83D\uDCCD 郵便番号を7桁入力後、「住所検索」ボタンをタップで住所が自動入力されます"}),r.jsx("p",{children:"\uD83D\uDD12 都道府県・市区町村は自動入力、町名以降は編集できます"})]})]},e.id):"prefecture"===e.id||"city"===e.id?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"}),l.has(e.id)&&r.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(自動入力)"})]}),r.jsx("input",{type:"text",value:s,onChange:d(e.id),className:h(e.id),placeholder:e.placeholder,readOnly:p(e.id)})]},e.id):(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),"textarea"===e.type?r.jsx("textarea",{value:s,onChange:d(e.id),placeholder:e.placeholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}):"select"===e.type?(0,r.jsxs)("select",{value:s,onChange:d(e.id),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"選択してください"}),e.options?.map((e,t)=>r.jsx("option",{value:e,children:e},t))]}):"radio"===e.type?r.jsx("div",{className:"space-y-2",children:e.options?.map((t,a)=>r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:e.id,value:t,checked:s===t,onChange:d(e.id),className:"mr-2"}),t]},a))}):"checkbox"===e.type?r.jsx("div",{className:"space-y-2",children:e.options?.map((e,t)=>r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",value:e,className:"mr-2"}),e]},t))}):r.jsx("input",{type:e.type,value:s,onChange:d(e.id),placeholder:e.placeholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]},e.id)}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"商品選択"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:r.jsx("p",{className:"text-sm text-gray-600",children:"選択された商品がここに表示されます"})})]}),r.jsx("div",{className:"text-right",children:(0,r.jsxs)("div",{className:"text-lg font-semibold",children:[r.jsx("span",{className:"text-gray-600",children:"小計: "}),r.jsx("span",{className:"text-gray-900",children:"\xa50"})]})})]}),r.jsx("button",{type:"button",className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors",disabled:!0,children:"予約内容を確認する"})]}),r.jsx("div",{className:"text-center text-xs text-gray-500",children:"※ これはプレビューです。実際の予約はできません。"})]})}},888:(e,t,s)=>{"use strict";s.d(t,{JO:()=>eI,PJ:()=>ew});var r=s(326),a=s(3855),n=s(3),l=s(8091),i=s(4019),o=s(1215),c=s(3810),d=s(8307),u=s(1137),m=s(4689),x=s(6333),h=s(4230),p=s(1890),g=s(9183),y=s(941),f=s(748),Z=s(231),b=s(9635),v=s(4061),j=s(9819),w=s(1810),N=s(7358),I=s(8998),C=s(6283),k=s(4751),P=s(1540),S=s(3685),O=s(8705),J=s(7671),z=s(8916),T=s(1821),A=s(2887),E=s(5932),D=s(7129),_=s(6993),$=s(9730),Q=s(7636),X=s(4935),q=s(7650),R=s(4659),L=s(1470),M=s(7202),V=s(8019),W=s(5351),Y=s(2714),B=s(1216),G=s(1312),U=s(5993),F=s(9015),H=s(3569),K=s(5396),ee=s(8319),et=s(8378),es=s(5920),er=s(9389),ea=s(924),en=s(6507),el=s(7888),ei=s(2447),eo=s(2771),ec=s(6611),ed=s(3080),eu=s(6833),em=s(850),ex=s(7757),eh=s(3240),ep=s(3734),eg=s(7427),ey=s(3468),ef=s(765),eZ=s(6015),eb=s(8908),ev=s(2933),ej=s(3495);let ew={add:a.Z,edit:n.Z,delete:l.Z,remove:i.Z,save:o.Z,copy:c.Z,search:d.Z,filter:u.Z,refresh:m.Z,back:x.Z,forward:h.Z,up:p.Z,down:g.Z,chevronDown:y.Z,menu:f.Z,more:Z.Z,user:b.Z,users:v.Z,profile:j.Z,logout:w.Z,calendar:N.Z,clock:I.Z,file:C.Z,document:C.Z,image:k.Z,download:P.Z,upload:S.Z,product:O.Z,cart:J.Z,payment:z.Z,money:T.Z,phone:A.Z,mail:E.Z,link:D.Z,share:_.Z,message:$.Z,location:Q.Z,map:X.Z,navigation:q.Z,success:R.Z,error:L.Z,warning:M.Z,info:V.Z,help:W.Z,eye:Y.Z,eyeOff:B.Z,show:Y.Z,hide:B.Z,expand:G.Z,collapse:U.Z,lock:F.Z,unlock:H.Z,security:F.Z,exit:w.Z,chart:K.Z,stats:K.Z,database:ee.Z,settings:et.Z,admin:et.Z,config:et.Z,home:es.Z,dashboard:es.Z,list:er.Z,grid:ea.Z,notification:en.Z,alert:el.Z,qrcode:ei.Z,plant:eo.Z,seed:O.Z,flower:ec.Z,tree:eo.Z,leaf:ed.Z,garden:eu.Z,sun:em.Z,cloud:ex.Z,rain:ex.Z,weather:em.Z,loading:eh.Z,spinner:m.Z,star:ep.Z,heart:eg.Z,target:ey.Z,tag:ef.Z,bookmark:eZ.Z,gift:eb.Z,check:ev.Z,cancel:i.Z,confirm:R.Z,customerInfo:b.Z,reservationInfo:N.Z,otherInfo:C.Z,packageIcon:O.Z,mobileIcon:ej.Z,saveIcon:o.Z,qrIcon:ei.Z,searchIcon:d.Z,deleteIcon:l.Z,closeIcon:i.Z,moneyIcon:T.Z},eN={xs:12,sm:16,md:20,lg:24,xl:32,"2xl":48},eI=({icon:e,size:t="md",className:s="",color:a,...n})=>{let l="number"==typeof t?t:eN[t];return r.jsx(e,{width:l,height:l,className:s,color:a,...n})}},7382:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>c,a:()=>o});var r=s(326),a=s(7577),n=s(5442),l=s(1058);let i=(0,a.createContext)(void 0),o=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},c=({children:e})=>{let[t,s]=(0,a.useState)(null),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0),{showError:m,showSuccess:x}=(0,l.p)(),h=t?.email==="admin@katagiri-shop.com"||t?.user_metadata?.role==="admin"||t?.app_metadata?.role==="admin";(0,a.useEffect)(()=>{n.OQ.auth.getSession().then(({data:{session:e}})=>{c(e),s(e?.user??null),u(!1)});let{data:{subscription:e}}=n.OQ.auth.onAuthStateChange((e,t)=>{c(t),s(t?.user??null),u(!1)});return()=>e.unsubscribe()},[]);let p=async(e,t)=>{try{u(!0);let{data:s,error:r}=await n.OQ.auth.signInWithPassword({email:e,password:t});if(r)return m("ログインに失敗しました",r.message),!1;if(s.user){if(!("admin@katagiri-shop.com"===s.user.email||s.user.user_metadata?.role==="admin"||s.user.app_metadata?.role==="admin"))return await n.OQ.auth.signOut(),m("アクセス権限がありません","管理者アカウントでログインしてください"),!1;return x("ログインしました","管理画面へようこそ"),!0}return!1}catch(e){return m("ログインエラー",e.message||"予期しないエラーが発生しました"),!1}finally{u(!1)}},g=async()=>{try{u(!0);let{error:e}=await n.OQ.auth.signOut();e?m("ログアウトに失敗しました",e.message):x("ログアウトしました","")}catch(e){m("ログアウトエラー",e.message)}finally{u(!1)}};return r.jsx(i.Provider,{value:{user:t,session:o,loading:d,signIn:p,signOut:g,isAdmin:h},children:e})}},1058:(e,t,s)=>{"use strict";s.d(t,{ToastProvider:()=>d,p:()=>c});var r=s(326),a=s(7577),n=s(888);let l=({id:e,type:t,title:s,message:l,duration:i=5e3,onClose:o})=>((0,a.useEffect)(()=>{let t=setTimeout(()=>{o(e)},i);return()=>clearTimeout(t)},[e,i,o]),r.jsx("div",{className:`rounded-lg p-4 border shadow-lg max-w-sm w-full transition-all duration-300 ${(()=>{switch(t){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}})()}`,children:(0,r.jsxs)("div",{className:"flex",children:[r.jsx("div",{className:`flex-shrink-0 ${(()=>{switch(t){case"success":return"text-green-500";case"error":return"text-red-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-gray-500"}})()}`,children:r.jsx(n.JO,{icon:(()=>{switch(t){case"success":return n.PJ.success;case"error":return n.PJ.error;case"warning":return n.PJ.warning;default:return n.PJ.info}})(),size:"md"})}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[r.jsx("h3",{className:"text-sm font-medium",children:s}),l&&r.jsx("p",{className:"text-sm mt-1",children:l})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsx("button",{onClick:()=>o(e),className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none",children:r.jsx(n.JO,{icon:n.PJ.cancel,size:"sm"})})})]})})),i=({toasts:e,onRemoveToast:t})=>r.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map(e=>r.jsx(l,{id:e.id,type:e.type,title:e.title,message:e.message,duration:e.duration,onClose:t},e.id))}),o=(0,a.createContext)(void 0),c=()=>{let e=(0,a.useContext)(o);if(!e)throw Error("useToast must be used within a ToastProvider");return e},d=({children:e})=>{let[t,s]=(0,a.useState)([]),n=e=>{let t=Math.random().toString(36).substr(2,9),r={...e,id:t};s(e=>[...e,r])};return(0,r.jsxs)(o.Provider,{value:{showToast:n,showSuccess:(e,t)=>{n({type:"success",title:e,message:t})},showError:(e,t)=>{n({type:"error",title:e,message:t})},showWarning:(e,t)=>{n({type:"warning",title:e,message:t})},showInfo:(e,t)=>{n({type:"info",title:e,message:t})}},children:[e,r.jsx(i,{toasts:t,onRemoveToast:e=>{s(t=>t.filter(t=>t.id!==e))}})]})}},5442:(e,t,s)=>{"use strict";s.d(t,{OQ:()=>i});var r=s(2997);let a="https://uscvsipskkbegcfktjyt.supabase.co",n=null,l=null,i=n=(0,r.eI)(a,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVzY3ZzaXBza2tiZWdjZmt0anl0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI0MDI4MzUsImV4cCI6MjA2Nzk3ODgzNX0.VhcGWXb-PpHTfqPApSIG4C6xXLik8JClsNhOdJIgdzw",{auth:{persistSession:!0,autoRefreshToken:!0,storage:void 0}});(()=>{if(!l){let e=process.env.SUPABASE_SERVICE_ROLE_KEY||"your-service-role-key";l=(0,r.eI)(a,e,{auth:{autoRefreshToken:!1,persistSession:!1}})}})()},3363:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,metadata:()=>c,viewport:()=>d});var r=s(9510),a=s(5384),n=s.n(a);s(7272);var l=s(8570);(0,l.createProxy)(String.raw`/mnt/c/Claude/インストール/nursery-reservation-system/app/contexts/ToastContext.tsx#useToast`);let i=(0,l.createProxy)(String.raw`/mnt/c/Claude/インストール/nursery-reservation-system/app/contexts/ToastContext.tsx#ToastProvider`);(0,l.createProxy)(String.raw`/mnt/c/Claude/インストール/nursery-reservation-system/app/contexts/AuthContext.tsx#useAuth`);let o=(0,l.createProxy)(String.raw`/mnt/c/Claude/インストール/nursery-reservation-system/app/contexts/AuthContext.tsx#AuthProvider`),c={title:"種苗店予約システム",description:"LINE ミニアプリ対応の種苗店予約システム"},d={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1};function u({children:e}){return r.jsx("html",{lang:"ja",children:r.jsx("body",{className:n().className,children:r.jsx(i,{children:r.jsx(o,{children:e})})})})}},7272:()=>{}};