exports.id=297,exports.ids=[297],exports.modules={8359:()=>{},3739:()=>{},778:(e,s,t)=>{Promise.resolve().then(t.bind(t,7382)),Promise.resolve().then(t.bind(t,1058))},9721:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},9241:(e,s,t)=>{"use strict";t.d(s,{Z:()=>o});var r=t(326),a=t(7577),i=t(434),n=t(5047);let l=[{href:"/admin",label:"ダッシュボード",icon:"bi-speedometer2",description:"概要とメトリクス"},{href:"/admin/reservations",label:"予約管理",icon:"bi-calendar-check",description:"予約の確認と管理"},{href:"/admin/products",label:"商品管理",icon:"bi-box-seam",description:"商品と在庫の管理"},{href:"/admin/customers",label:"顧客管理",icon:"bi-people",description:"顧客情報の管理"},{href:"/admin/forms",label:"フォーム管理",icon:"bi-file-earmark-text",description:"予約フォームの設定"},{href:"/admin/notifications",label:"通知管理",icon:"bi-bell",description:"通知とメッセージ"}];function o({children:e}){let[s,t]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),d=(0,n.usePathname)(),m=e=>"/admin"===e?"/admin"===d:d.startsWith(e);return(0,r.jsxs)("div",{className:"d-flex",children:[s&&r.jsx("div",{className:"position-fixed w-100 h-100 d-lg-none",style:{backgroundColor:"rgba(0,0,0,0.5)",zIndex:1040},onClick:()=>t(!1)}),r.jsx("nav",{className:`bg-white border-end shadow-sm position-fixed ${s?"d-block":"d-none d-lg-block"}`,style:{width:"280px",height:"100vh",zIndex:1030,left:0,top:0},children:(0,r.jsxs)("div",{className:"d-flex flex-column h-100",children:[r.jsx("div",{className:"p-4 border-bottom",children:r.jsx(i.default,{href:"/admin",className:"text-decoration-none",children:(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[r.jsx("div",{className:"bg-primary rounded-3 p-2 me-3",children:r.jsx("i",{className:"bi bi-flower3 text-white fs-4"})}),(0,r.jsxs)("div",{children:[r.jsx("h5",{className:"mb-0 text-dark fw-bold",children:"種苗店管理"}),r.jsx("small",{className:"text-muted",children:"予約システム"})]})]})})}),r.jsx("div",{className:"flex-grow-1 overflow-auto",children:r.jsx("ul",{className:"nav flex-column",children:l.map(e=>r.jsx("li",{className:"nav-item",children:(0,r.jsxs)(i.default,{href:e.href,className:`nav-link d-flex align-items-center py-3 px-4 text-dark text-decoration-none ${m(e.href)?"bg-primary-subtle text-primary border-end border-primary border-3":""}`,onClick:()=>t(!1),children:[r.jsx("i",{className:`${e.icon} me-3`}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"fw-medium",children:e.label}),r.jsx("small",{className:"text-muted d-block",children:e.description})]})]})},e.href))})}),r.jsx("div",{className:"p-4 border-top",children:(0,r.jsxs)("div",{className:"d-flex align-items-center text-muted",children:[r.jsx("i",{className:"bi bi-person-circle me-2"}),r.jsx("small",{children:"管理者"})]})})]})}),(0,r.jsxs)("main",{className:"flex-grow-1",style:{marginLeft:o?"280px":"0"},children:[r.jsx("header",{className:"bg-white border-bottom shadow-sm sticky-top",style:{height:"64px",zIndex:1020},children:(0,r.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100 h-100 px-4",children:[(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[r.jsx("button",{className:"btn btn-outline-light d-lg-none me-3",onClick:()=>t(!s),children:r.jsx("i",{className:"bi bi-list fs-4 text-dark"})}),r.jsx("h4",{className:"mb-0 text-dark",children:l.find(e=>m(e.href))?.label||"ダッシュボード"})]}),(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsxs)("button",{className:"btn btn-outline-light text-muted me-3 position-relative",children:[r.jsx("i",{className:"bi bi-bell fs-5"}),r.jsx("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",style:{fontSize:"0.6rem"},children:"3"})]}),r.jsx("button",{className:"btn btn-outline-light text-muted",children:r.jsx("i",{className:"bi bi-gear fs-5"})})]})]})}),r.jsx("div",{className:"p-4",children:e})]})]})}},888:(e,s,t)=>{"use strict";t.d(s,{JO:()=>eI,PJ:()=>ew});var r=t(326),a=t(3855),i=t(3),n=t(8091),l=t(4019),o=t(1215),c=t(3810),d=t(8307),m=t(1137),u=t(4689),h=t(6333),x=t(4230),Z=t(1890),b=t(9183),f=t(941),p=t(748),g=t(231),v=t(9635),j=t(4061),y=t(9819),w=t(1810),N=t(7358),I=t(8998),k=t(6283),P=t(4751),C=t(1540),S=t(3685),J=t(8705),O=t(7671),z=t(8916),T=t(1821),A=t(2887),E=t(5932),Q=t(7129),X=t(6993),_=t(9730),R=t(7636),L=t(4935),M=t(7650),V=t(4659),W=t(1470),$=t(7202),Y=t(8019),q=t(5351),B=t(2714),D=t(1216),G=t(1312),U=t(5993),F=t(9015),H=t(3569),K=t(5396),ee=t(8319),es=t(8378),et=t(5920),er=t(9389),ea=t(924),ei=t(6507),en=t(7888),el=t(2447),eo=t(2771),ec=t(6611),ed=t(3080),em=t(6833),eu=t(850),eh=t(7757),ex=t(3240),eZ=t(3734),eb=t(7427),ef=t(3468),ep=t(765),eg=t(6015),ev=t(8908),ej=t(2933),ey=t(3495);let ew={add:a.Z,edit:i.Z,delete:n.Z,remove:l.Z,save:o.Z,copy:c.Z,search:d.Z,filter:m.Z,refresh:u.Z,back:h.Z,forward:x.Z,up:Z.Z,down:b.Z,chevronDown:f.Z,menu:p.Z,more:g.Z,user:v.Z,users:j.Z,profile:y.Z,logout:w.Z,calendar:N.Z,clock:I.Z,file:k.Z,document:k.Z,image:P.Z,download:C.Z,upload:S.Z,product:J.Z,cart:O.Z,payment:z.Z,money:T.Z,phone:A.Z,mail:E.Z,link:Q.Z,share:X.Z,message:_.Z,location:R.Z,map:L.Z,navigation:M.Z,success:V.Z,error:W.Z,warning:$.Z,info:Y.Z,help:q.Z,eye:B.Z,eyeOff:D.Z,show:B.Z,hide:D.Z,expand:G.Z,collapse:U.Z,lock:F.Z,unlock:H.Z,security:F.Z,exit:w.Z,chart:K.Z,stats:K.Z,database:ee.Z,settings:es.Z,admin:es.Z,config:es.Z,home:et.Z,dashboard:et.Z,list:er.Z,grid:ea.Z,notification:ei.Z,alert:en.Z,qrcode:el.Z,plant:eo.Z,seed:J.Z,flower:ec.Z,tree:eo.Z,leaf:ed.Z,garden:em.Z,sun:eu.Z,cloud:eh.Z,rain:eh.Z,weather:eu.Z,loading:ex.Z,spinner:u.Z,star:eZ.Z,heart:eb.Z,target:ef.Z,tag:ep.Z,bookmark:eg.Z,gift:ev.Z,check:ej.Z,cancel:l.Z,confirm:V.Z,customerInfo:v.Z,reservationInfo:N.Z,otherInfo:k.Z,packageIcon:J.Z,mobileIcon:ey.Z,saveIcon:o.Z,qrIcon:el.Z,searchIcon:d.Z,deleteIcon:n.Z,closeIcon:l.Z,moneyIcon:T.Z},eN={xs:12,sm:16,md:20,lg:24,xl:32,"2xl":48},eI=({icon:e,size:s="md",className:t="",color:a,...i})=>{let n="number"==typeof s?s:eN[s];return r.jsx(e,{width:n,height:n,className:t,color:a,...i})}},7382:(e,s,t)=>{"use strict";t.d(s,{AuthProvider:()=>c,a:()=>o});var r=t(326),a=t(7577),i=t(5442),n=t(1058);let l=(0,a.createContext)(void 0),o=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},c=({children:e})=>{let[s,t]=(0,a.useState)(null),[o,c]=(0,a.useState)(null),[d,m]=(0,a.useState)(!0),{showError:u,showSuccess:h}=(0,n.p)(),x=s?.email==="admin@katagiri-shop.com"||s?.user_metadata?.role==="admin"||s?.app_metadata?.role==="admin";(0,a.useEffect)(()=>{i.OQ.auth.getSession().then(({data:{session:e}})=>{c(e),t(e?.user??null),m(!1)});let{data:{subscription:e}}=i.OQ.auth.onAuthStateChange((e,s)=>{c(s),t(s?.user??null),m(!1)});return()=>e.unsubscribe()},[]);let Z=async(e,s)=>{try{m(!0);let{data:t,error:r}=await i.OQ.auth.signInWithPassword({email:e,password:s});if(r)return u("ログインに失敗しました",r.message),!1;if(t.user){if(!("admin@katagiri-shop.com"===t.user.email||t.user.user_metadata?.role==="admin"||t.user.app_metadata?.role==="admin"))return await i.OQ.auth.signOut(),u("アクセス権限がありません","管理者アカウントでログインしてください"),!1;return h("ログインしました","管理画面へようこそ"),!0}return!1}catch(e){return u("ログインエラー",e.message||"予期しないエラーが発生しました"),!1}finally{m(!1)}},b=async()=>{try{m(!0);let{error:e}=await i.OQ.auth.signOut();e?u("ログアウトに失敗しました",e.message):h("ログアウトしました","")}catch(e){u("ログアウトエラー",e.message)}finally{m(!1)}};return r.jsx(l.Provider,{value:{user:s,session:o,loading:d,signIn:Z,signOut:b,isAdmin:x},children:e})}},1058:(e,s,t)=>{"use strict";t.d(s,{ToastProvider:()=>d,p:()=>c});var r=t(326),a=t(7577),i=t(888);let n=({id:e,type:s,title:t,message:n,duration:l=5e3,onClose:o})=>((0,a.useEffect)(()=>{let s=setTimeout(()=>{o(e)},l);return()=>clearTimeout(s)},[e,l,o]),r.jsx("div",{className:`rounded-lg p-4 border shadow-lg max-w-sm w-full transition-all duration-300 ${(()=>{switch(s){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}})()}`,children:(0,r.jsxs)("div",{className:"flex",children:[r.jsx("div",{className:`flex-shrink-0 ${(()=>{switch(s){case"success":return"text-green-500";case"error":return"text-red-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-gray-500"}})()}`,children:r.jsx(i.JO,{icon:(()=>{switch(s){case"success":return i.PJ.success;case"error":return i.PJ.error;case"warning":return i.PJ.warning;default:return i.PJ.info}})(),size:"md"})}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[r.jsx("h3",{className:"text-sm font-medium",children:t}),n&&r.jsx("p",{className:"text-sm mt-1",children:n})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsx("button",{onClick:()=>o(e),className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none",children:r.jsx(i.JO,{icon:i.PJ.cancel,size:"sm"})})})]})})),l=({toasts:e,onRemoveToast:s})=>r.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map(e=>r.jsx(n,{id:e.id,type:e.type,title:e.title,message:e.message,duration:e.duration,onClose:s},e.id))}),o=(0,a.createContext)(void 0),c=()=>{let e=(0,a.useContext)(o);if(!e)throw Error("useToast must be used within a ToastProvider");return e},d=({children:e})=>{let[s,t]=(0,a.useState)([]),i=e=>{let s=Math.random().toString(36).substr(2,9),r={...e,id:s};t(e=>[...e,r])};return(0,r.jsxs)(o.Provider,{value:{showToast:i,showSuccess:(e,s)=>{i({type:"success",title:e,message:s})},showError:(e,s)=>{i({type:"error",title:e,message:s})},showWarning:(e,s)=>{i({type:"warning",title:e,message:s})},showInfo:(e,s)=>{i({type:"info",title:e,message:s})}},children:[e,r.jsx(l,{toasts:s,onRemoveToast:e=>{t(s=>s.filter(s=>s.id!==e))}})]})}},5442:(e,s,t)=>{"use strict";t.d(s,{OQ:()=>l});var r=t(2997);let a="https://uscvsipskkbegcfktjyt.supabase.co",i=null,n=null,l=i=(0,r.eI)(a,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVzY3ZzaXBza2tiZWdjZmt0anl0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI0MDI4MzUsImV4cCI6MjA2Nzk3ODgzNX0.VhcGWXb-PpHTfqPApSIG4C6xXLik8JClsNhOdJIgdzw",{auth:{persistSession:!0,autoRefreshToken:!0,storage:void 0}});(()=>{if(!n){let e=process.env.SUPABASE_SERVICE_ROLE_KEY||"your-service-role-key";n=(0,r.eI)(a,e,{auth:{autoRefreshToken:!1,persistSession:!1}})}})()},3363:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m,metadata:()=>c,viewport:()=>d});var r=t(9510),a=t(5384),i=t.n(a);t(7272);var n=t(8570);(0,n.createProxy)(String.raw`/mnt/c/Claude/インストール/nursery-reservation-system/app/contexts/ToastContext.tsx#useToast`);let l=(0,n.createProxy)(String.raw`/mnt/c/Claude/インストール/nursery-reservation-system/app/contexts/ToastContext.tsx#ToastProvider`);(0,n.createProxy)(String.raw`/mnt/c/Claude/インストール/nursery-reservation-system/app/contexts/AuthContext.tsx#useAuth`);let o=(0,n.createProxy)(String.raw`/mnt/c/Claude/インストール/nursery-reservation-system/app/contexts/AuthContext.tsx#AuthProvider`),c={title:"種苗店予約システム",description:"LINE ミニアプリ対応の種苗店予約システム"},d={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1};function m({children:e}){return r.jsx("html",{lang:"ja",children:r.jsx("body",{className:i().className,children:r.jsx(l,{children:r.jsx(o,{children:e})})})})}},7272:()=>{}};