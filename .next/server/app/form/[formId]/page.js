(()=>{var e={};e.id=978,e.ids=[978],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8563:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d}),t(3190),t(3363),t(5866);var r=t(3191),a=t(8716),l=t(7922),n=t.n(l),i=t(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let d=["",{children:["form",{children:["[formId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3190)),"/mnt/c/Claude/インストール/nursery-reservation-system/app/form/[formId]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3363)),"/mnt/c/Claude/インストール/nursery-reservation-system/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/mnt/c/Claude/インストール/nursery-reservation-system/app/form/[formId]/page.tsx"],x="/form/[formId]/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/form/[formId]/page",pathname:"/form/[formId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7545:(e,s,t)=>{Promise.resolve().then(t.bind(t,9329))},8871:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var r=t(326),a=t(7577);async function l(e){try{let s=await fetch(`https://zipcloud.ibsnet.co.jp/api/search?zipcode=${e}`),t=await s.json();if(200===t.status&&t.results&&t.results.length>0){let e=t.results[0];return{prefecture:e.address1,city:e.address2,town:e.address3,fullAddress:`${e.address1}${e.address2}${e.address3}`}}return null}catch(e){return console.error("住所検索エラー:",e),null}}function n({formConfig:e}){let[s,t]=(0,a.useState)({}),[n,i]=(0,a.useState)(new Set),[c,d]=(0,a.useState)(!1),o=e=>r=>{t({...s,[e]:r.target.value})},x=e=>{let r=function(e){let s=e.replace(/[^0-9]/g,"");return s.length<=3?s:`${s.slice(0,3)}-${s.slice(3,7)}`}(e.target.value);t({...s,postal_code:r}),r.replace(/[^0-9]/g,"").length<7&&n.size>0&&(t(e=>({...e,prefecture:"",city:"",address:""})),i(new Set))},u=async()=>{let e=(s.postal_code||"").replace(/[^0-9]/g,"");if(7===e.length){d(!0);try{let s=await l(e);s&&(t(e=>({...e,prefecture:s.prefecture||"",city:s.city||"",address:s.town||""})),i(new Set(["prefecture","city"])))}catch(e){console.error("住所検索エラー:",e)}finally{d(!1)}}},m=()=>{t(e=>({...e,prefecture:"",city:"",address:""})),i(new Set)},p=e=>n.has(e)&&("prefecture"===e||"city"===e)?"w-full px-3 py-2 border border-green-300 bg-green-50 rounded-md text-sm":"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",h=e=>n.has(e)&&("prefecture"===e||"city"===e),g=()=>{let e=(s.postal_code||"").replace(/[^0-9]/g,"");return 0===e.length?"郵便番号を入力してください":e.length<7?`あと${7-e.length}桁入力してください`:7===e.length?"タップして住所を検索":""},y=e.fields.filter(e=>!1!==e.enabled);return(0,r.jsxs)("div",{className:"max-w-lg mx-auto bg-white border rounded-lg p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:e.name}),r.jsx("p",{className:"text-gray-600 text-sm",children:e.description})]}),(0,r.jsxs)("form",{className:"space-y-6",children:[y.map(e=>{let t=s[e.id]||"";return"postal_code"===e.id?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"}),c&&r.jsx("span",{className:"text-sm text-blue-600 ml-2",children:"住所を検索中..."})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:t,onChange:x,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:e.placeholder||"例: 123-4567",maxLength:8}),r.jsx("button",{type:"button",onClick:u,disabled:c||7!==t.replace(/[^0-9]/g,"").length,title:g(),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${c||7!==t.replace(/[^0-9]/g,"").length?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:c?"検索中...":"住所検索"}),n.size>0&&r.jsx("button",{type:"button",onClick:m,className:"px-3 py-2 text-sm bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"クリア"})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsx("p",{children:"\uD83D\uDCCD 郵便番号を7桁入力後、「住所検索」ボタンをタップで住所が自動入力されます"}),r.jsx("p",{children:"\uD83D\uDD12 都道府県・市区町村は自動入力、町名以降は編集できます"})]})]},e.id):"prefecture"===e.id||"city"===e.id?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"}),n.has(e.id)&&r.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(自動入力)"})]}),r.jsx("input",{type:"text",value:t,onChange:o(e.id),className:p(e.id),placeholder:e.placeholder,readOnly:h(e.id)})]},e.id):(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),"textarea"===e.type?r.jsx("textarea",{value:t,onChange:o(e.id),placeholder:e.placeholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}):"select"===e.type?(0,r.jsxs)("select",{value:t,onChange:o(e.id),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"選択してください"}),e.options?.map((e,s)=>r.jsx("option",{value:e,children:e},s))]}):"radio"===e.type?r.jsx("div",{className:"space-y-2",children:e.options?.map((s,a)=>r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:e.id,value:s,checked:t===s,onChange:o(e.id),className:"mr-2"}),s]},a))}):"checkbox"===e.type?r.jsx("div",{className:"space-y-2",children:e.options?.map((e,s)=>r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",value:e,className:"mr-2"}),e]},s))}):r.jsx("input",{type:e.type,value:t,onChange:o(e.id),placeholder:e.placeholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]},e.id)}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"商品選択"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:r.jsx("p",{className:"text-sm text-gray-600",children:"選択された商品がここに表示されます"})})]}),r.jsx("div",{className:"text-right",children:(0,r.jsxs)("div",{className:"text-lg font-semibold",children:[r.jsx("span",{className:"text-gray-600",children:"小計: "}),r.jsx("span",{className:"text-gray-900",children:"\xa50"})]})})]}),r.jsx("button",{type:"button",className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors",disabled:!0,children:"予約内容を確認する"})]}),r.jsx("div",{className:"text-center text-xs text-gray-500",children:"※ これはプレビューです。実際の予約はできません。"})]})}},9329:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(326),a=t(7577),l=t(5047);t(5442);var n=t(8871),i=t(888);function c(){(0,l.useParams)().formId;let[e,s]=(0,a.useState)(null),[t,c]=(0,a.useState)(!0),[d,o]=(0,a.useState)(null),[x,u]=(0,a.useState)(!1);return t?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx(i.JO,{icon:i.PJ.loading,size:"xl",className:"animate-spin text-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"フォームを読み込み中..."})]})}):d?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[r.jsx(i.JO,{icon:i.PJ.error,size:"xl",className:"text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"アクセスできません"}),r.jsx("p",{className:"text-gray-600 mb-4",children:d}),r.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"戻る"})]})}):e?(0,r.jsxs)("div",{className:`min-h-screen ${x?"bg-white":"bg-gray-50"}`,children:[!x&&r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-lg mx-auto px-4 py-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(i.JO,{icon:i.PJ.plant,size:"lg",className:"text-green-600"}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:e.settings.businessName||"種苗店予約システム"}),r.jsx("p",{className:"text-sm text-gray-600",children:"予約フォーム"})]})]})})}),r.jsx("div",{className:`${x?"p-0":"p-4"}`,children:r.jsx("div",{className:`${x?"":"max-w-lg mx-auto"}`,children:r.jsx(n.Z,{formConfig:e})})}),!x&&r.jsx("div",{className:"bg-white border-t border-gray-200 mt-8",children:r.jsx("div",{className:"max-w-lg mx-auto px-4 py-6 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Powered by ",e.settings.businessName||"種苗店予約システム"]})})})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[r.jsx(i.JO,{icon:i.PJ.warning,size:"xl",className:"text-yellow-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"フォームが見つかりません"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"指定されたフォームは存在しないか、無効になっています。"}),r.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"戻る"})]})})}},5047:(e,s,t)=>{"use strict";var r=t(7389);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}})},3190:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`/mnt/c/Claude/インストール/nursery-reservation-system/app/form/[formId]/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[431,302],()=>t(8563));module.exports=r})();