(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8359:()=>{},3739:()=>{},5002:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>o}),t(908),t(3363),t(5866);var r=t(3191),a=t(8716),l=t(7922),n=t.n(l),i=t(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,908)),"/mnt/c/Claude/インストール/nursery-reservation-system/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,3363)),"/mnt/c/Claude/インストール/nursery-reservation-system/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/mnt/c/Claude/インストール/nursery-reservation-system/app/page.tsx"],m="/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},778:(e,s,t)=>{Promise.resolve().then(t.bind(t,7382)),Promise.resolve().then(t.bind(t,1058))},3160:(e,s,t)=>{Promise.resolve().then(t.bind(t,9707))},9721:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},888:(e,s,t)=>{"use strict";t.d(s,{JO:()=>eC,PJ:()=>eZ});var r=t(326),a=t(3855),l=t(3),n=t(8091),i=t(4019),c=t(1215),o=t(3810),d=t(8307),m=t(1137),u=t(4689),x=t(6333),p=t(4230),h=t(1890),g=t(9183),f=t(941),j=t(748),b=t(231),N=t(9635),y=t(4061),v=t(9819),Z=t(1810),w=t(7358),C=t(8998),D=t(6283),k=t(4751),I=t(1540),P=t(3685),S=t(8705),q=t(7671),z=t(8916),O=t(1821),_=t(2887),E=t(5932),X=t(7129),T=t(6993),J=t(9730),A=t(7636),L=t(4935),$=t(7650),M=t(4659),R=t(1470),G=t(7202),Q=t(8019),B=t(5351),F=t(2714),V=t(1216),W=t(1312),Y=t(5993),H=t(9015),U=t(3569),K=t(5396),ee=t(8319),es=t(8378),et=t(5920),er=t(9389),ea=t(924),el=t(6507),en=t(7888),ei=t(2447),ec=t(2771),eo=t(6611),ed=t(3080),em=t(6833),eu=t(850),ex=t(7757),ep=t(3240),eh=t(3734),eg=t(7427),ef=t(3468),ej=t(765),eb=t(6015),eN=t(8908),ey=t(2933),ev=t(3495);let eZ={add:a.Z,edit:l.Z,delete:n.Z,remove:i.Z,save:c.Z,copy:o.Z,search:d.Z,filter:m.Z,refresh:u.Z,back:x.Z,forward:p.Z,up:h.Z,down:g.Z,chevronDown:f.Z,menu:j.Z,more:b.Z,user:N.Z,users:y.Z,profile:v.Z,logout:Z.Z,calendar:w.Z,clock:C.Z,file:D.Z,document:D.Z,image:k.Z,download:I.Z,upload:P.Z,product:S.Z,cart:q.Z,payment:z.Z,money:O.Z,phone:_.Z,mail:E.Z,link:X.Z,share:T.Z,message:J.Z,location:A.Z,map:L.Z,navigation:$.Z,success:M.Z,error:R.Z,warning:G.Z,info:Q.Z,help:B.Z,eye:F.Z,eyeOff:V.Z,show:F.Z,hide:V.Z,expand:W.Z,collapse:Y.Z,lock:H.Z,unlock:U.Z,security:H.Z,exit:Z.Z,chart:K.Z,stats:K.Z,database:ee.Z,settings:es.Z,admin:es.Z,config:es.Z,home:et.Z,dashboard:et.Z,list:er.Z,grid:ea.Z,notification:el.Z,alert:en.Z,qrcode:ei.Z,plant:ec.Z,seed:S.Z,flower:eo.Z,tree:ec.Z,leaf:ed.Z,garden:em.Z,sun:eu.Z,cloud:ex.Z,rain:ex.Z,weather:eu.Z,loading:ep.Z,spinner:u.Z,star:eh.Z,heart:eg.Z,target:ef.Z,tag:ej.Z,bookmark:eb.Z,gift:eN.Z,check:ey.Z,cancel:i.Z,confirm:M.Z,customerInfo:N.Z,reservationInfo:w.Z,otherInfo:D.Z,packageIcon:S.Z,mobileIcon:ev.Z,saveIcon:c.Z,qrIcon:ei.Z,searchIcon:d.Z,deleteIcon:n.Z,closeIcon:i.Z,moneyIcon:O.Z},ew={xs:12,sm:16,md:20,lg:24,xl:32,"2xl":48},eC=({icon:e,size:s="md",className:t="",color:a,...l})=>{let n="number"==typeof s?s:ew[s];return r.jsx(e,{width:n,height:n,className:t,color:a,...l})}},7382:(e,s,t)=>{"use strict";t.d(s,{AuthProvider:()=>o,a:()=>c});var r=t(326),a=t(7577),l=t(5442),n=t(1058);let i=(0,a.createContext)(void 0),c=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},o=({children:e})=>{let[s,t]=(0,a.useState)(null),[c,o]=(0,a.useState)(null),[d,m]=(0,a.useState)(!0),{showError:u,showSuccess:x}=(0,n.p)(),p=s?.email==="admin@katagiri-shop.com"||s?.user_metadata?.role==="admin"||s?.app_metadata?.role==="admin";(0,a.useEffect)(()=>{l.OQ.auth.getSession().then(({data:{session:e}})=>{o(e),t(e?.user??null),m(!1)});let{data:{subscription:e}}=l.OQ.auth.onAuthStateChange((e,s)=>{o(s),t(s?.user??null),m(!1)});return()=>e.unsubscribe()},[]);let h=async(e,s)=>{try{m(!0);let{data:t,error:r}=await l.OQ.auth.signInWithPassword({email:e,password:s});if(r)return u("ログインに失敗しました",r.message),!1;if(t.user){if(!("admin@katagiri-shop.com"===t.user.email||t.user.user_metadata?.role==="admin"||t.user.app_metadata?.role==="admin"))return await l.OQ.auth.signOut(),u("アクセス権限がありません","管理者アカウントでログインしてください"),!1;return x("ログインしました","管理画面へようこそ"),!0}return!1}catch(e){return u("ログインエラー",e.message||"予期しないエラーが発生しました"),!1}finally{m(!1)}},g=async()=>{try{m(!0);let{error:e}=await l.OQ.auth.signOut();e?u("ログアウトに失敗しました",e.message):x("ログアウトしました","")}catch(e){u("ログアウトエラー",e.message)}finally{m(!1)}};return r.jsx(i.Provider,{value:{user:s,session:c,loading:d,signIn:h,signOut:g,isAdmin:p},children:e})}},1058:(e,s,t)=>{"use strict";t.d(s,{ToastProvider:()=>d,p:()=>o});var r=t(326),a=t(7577),l=t(888);let n=({id:e,type:s,title:t,message:n,duration:i=5e3,onClose:c})=>((0,a.useEffect)(()=>{let s=setTimeout(()=>{c(e)},i);return()=>clearTimeout(s)},[e,i,c]),r.jsx("div",{className:`rounded-lg p-4 border shadow-lg max-w-sm w-full transition-all duration-300 ${(()=>{switch(s){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}})()}`,children:(0,r.jsxs)("div",{className:"flex",children:[r.jsx("div",{className:`flex-shrink-0 ${(()=>{switch(s){case"success":return"text-green-500";case"error":return"text-red-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-gray-500"}})()}`,children:r.jsx(l.JO,{icon:(()=>{switch(s){case"success":return l.PJ.success;case"error":return l.PJ.error;case"warning":return l.PJ.warning;default:return l.PJ.info}})(),size:"md"})}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[r.jsx("h3",{className:"text-sm font-medium",children:t}),n&&r.jsx("p",{className:"text-sm mt-1",children:n})]}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsx("button",{onClick:()=>c(e),className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none",children:r.jsx(l.JO,{icon:l.PJ.cancel,size:"sm"})})})]})})),i=({toasts:e,onRemoveToast:s})=>r.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map(e=>r.jsx(n,{id:e.id,type:e.type,title:e.title,message:e.message,duration:e.duration,onClose:s},e.id))}),c=(0,a.createContext)(void 0),o=()=>{let e=(0,a.useContext)(c);if(!e)throw Error("useToast must be used within a ToastProvider");return e},d=({children:e})=>{let[s,t]=(0,a.useState)([]),l=e=>{let s=Math.random().toString(36).substr(2,9),r={...e,id:s};t(e=>[...e,r])};return(0,r.jsxs)(c.Provider,{value:{showToast:l,showSuccess:(e,s)=>{l({type:"success",title:e,message:s})},showError:(e,s)=>{l({type:"error",title:e,message:s})},showWarning:(e,s)=>{l({type:"warning",title:e,message:s})},showInfo:(e,s)=>{l({type:"info",title:e,message:s})}},children:[e,r.jsx(i,{toasts:s,onRemoveToast:e=>{t(s=>s.filter(s=>s.id!==e))}})]})}},9707:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(326),a=t(7577);function l({formData:e,setFormData:s,errors:t}){let[l,n]=(0,a.useState)(!1),[i,c]=(0,a.useState)(new Set),o=t=>r=>{s({...e,[t]:r.target.value})},d=e=>{let s=e.replace(/[^0-9]/g,"");return 7===s.length?`${s.slice(0,3)}-${s.slice(3)}`:s.length<=3?s:`${s.slice(0,3)}-${s.slice(3,7)}`},m=async t=>{n(!0);try{let r=t.replace(/[^0-9]/g,"");if(7!==r.length)return!1;let a=await fetch(`https://zipcloud.ibsnet.co.jp/api/search?zipcode=${r}`);if(!a.ok)throw Error(`APIリクエストエラー: ${a.status}`);let l=await a.json();if(200!==l.status||!l.results||!(l.results.length>0))return!1;{let r=l.results[0];return s({...e,zipcode:t,prefecture:r.address1,city:r.address2,town:r.address3}),c(new Set(["prefecture","city","town"])),!0}}catch(e){return console.error("住所検索エラー:",e),!1}finally{n(!1)}},u=async()=>{if(7!==e.zipcode.replace(/[^0-9]/g,"").length){alert("郵便番号は7桁で入力してください（例: 123-4567）");return}await m(e.zipcode)||(alert(`郵便番号「${e.zipcode}」に該当する住所が見つかりませんでした。

※ 全国の郵便番号に対応していますが、存在しない郵便番号や形式が正しくない場合は検索できません。`),c(new Set))},x=e=>i.has(e)&&("prefecture"===e||"city"===e)?"form-input-auto-filled":"form-input",p=e=>i.has(e)&&("prefecture"===e||"city"===e);return(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("h3",{className:"section-title",children:"お客様情報"}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{className:"form-label",children:["名前 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:e.name,onChange:o("name"),className:"form-input",placeholder:"山田 太郎"}),t.name&&r.jsx("p",{className:"form-error",children:t.name})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{className:"form-label",children:["フリガナ ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:e.furigana,onChange:o("furigana"),className:"form-input",placeholder:"ヤマダ タロウ"}),t.furigana&&r.jsx("p",{className:"form-error",children:t.furigana})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{className:"form-label",children:["電話番号 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",value:e.phone,onChange:o("phone"),className:"form-input",placeholder:"090-1234-5678"}),t.phone&&r.jsx("p",{className:"form-error",children:t.phone})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{className:"form-label",children:["郵便番号",l&&r.jsx("span",{className:"text-sm text-blue-600 ml-2",children:"住所を検索中..."})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",value:e.zipcode,onChange:t=>{let r=d(t.target.value);s({...e,zipcode:r}),r.replace(/[^0-9]/g,"").length<7&&i.size>0&&(s({...e,zipcode:r,prefecture:"",city:"",town:""}),c(new Set))},onKeyDown:s=>{"Enter"!==s.key||(s.preventDefault(),7!==e.zipcode.replace(/[^0-9]/g,"").length||l||u())},className:"form-input",placeholder:"例: 123-4567",maxLength:8,style:{flex:"1"}}),r.jsx("button",{type:"button",onClick:u,disabled:l||7!==e.zipcode.replace(/[^0-9]/g,"").length,title:(()=>{let s=e.zipcode.replace(/[^0-9]/g,"");return 0===s.length?"郵便番号を入力してください":s.length<7?`あと${7-s.length}桁入力してください`:7===s.length?"タップして住所を検索":""})(),className:`px-4 py-3 text-sm font-medium rounded-lg transition-colors ${l||7!==e.zipcode.replace(/[^0-9]/g,"").length?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,style:{minHeight:"48px",whiteSpace:"nowrap"},children:l?"検索中...":"住所検索"}),i.size>0&&r.jsx("button",{type:"button",onClick:()=>{s({...e,prefecture:"",city:"",town:""}),c(new Set)},className:"px-3 py-3 text-sm bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",style:{minHeight:"48px",whiteSpace:"nowrap"},children:"クリア"})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 mt-1 space-y-1",children:[r.jsx("p",{children:"\uD83D\uDCCD 郵便番号を7桁入力後、「住所検索」ボタンをタップで住所が自動入力されます"}),r.jsx("p",{children:"\uD83D\uDD12 都道府県・市区町村は自動入力、町名以降は編集できます"}),r.jsx("p",{children:"\uD83C\uDF0F 全国の郵便番号に対応しています"})]}),t.zipcode&&r.jsx("p",{className:"form-error",children:t.zipcode})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{className:"form-label",children:["都道府県",i.has("prefecture")&&r.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(自動入力)"})]}),r.jsx("input",{type:"text",value:e.prefecture,onChange:o("prefecture"),className:x("prefecture"),placeholder:"東京都",readOnly:p("prefecture"),style:{backgroundColor:p("prefecture")?"#f3f4f6":""}}),t.prefecture&&r.jsx("p",{className:"form-error",children:t.prefecture})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{className:"form-label",children:["市区町村",i.has("city")&&r.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(自動入力)"})]}),r.jsx("input",{type:"text",value:e.city,onChange:o("city"),className:x("city"),placeholder:"渋谷区",readOnly:p("city"),style:{backgroundColor:p("city")?"#f3f4f6":""}}),t.city&&r.jsx("p",{className:"form-error",children:t.city})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{className:"form-label",children:["町名",i.has("town")&&r.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(自動入力されました)"})]}),r.jsx("input",{type:"text",value:e.town||"",onChange:o("town"),className:"form-input",placeholder:"神南"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"町名以降の項目は編集可能です"})]}),(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"番地・建物名・部屋番号"}),r.jsx("input",{type:"text",value:e.addressDetail,onChange:o("addressDetail"),className:"form-input",placeholder:"1-2-3 サンプルマンション101号室"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"こちらは常に編集可能です"}),t.addressDetail&&r.jsx("p",{className:"form-error",children:t.addressDetail})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"性別"}),(0,r.jsxs)("select",{value:e.gender,onChange:o("gender"),className:"form-select",children:[r.jsx("option",{value:"male",children:"男性"}),r.jsx("option",{value:"female",children:"女性"}),r.jsx("option",{value:"other",children:"その他"})]}),t.gender&&r.jsx("p",{className:"form-error",children:t.gender})]}),(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"生年月日"}),r.jsx("input",{type:"date",value:e.birthDate,onChange:o("birthDate"),className:"form-input"}),t.birthDate&&r.jsx("p",{className:"form-error",children:t.birthDate})]})]})]})}function n({productItems:e,setProductItems:s,availableProducts:t,errors:a}){let l=t=>{e.length>1&&s(e.filter((e,s)=>s!==t))},n=(t,r,a)=>{let l=[...e];l[t]={...l[t],[r]:a},s(l)},i=()=>e.reduce((e,s)=>{let r=t.find(e=>e.id===s.productId);return e+(r?r.price*s.quantity:0)},0),c=e=>{let s=t.find(s=>s.id===e.productId);return s?s.price*e.quantity:0};return(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("h3",{className:"section-title",children:"予約内容"}),e.map((s,i)=>(0,r.jsxs)("div",{className:"product-item",children:[(0,r.jsxs)("div",{className:"product-header",children:[(0,r.jsxs)("h4",{className:"product-title",children:["商品 ",i+1]}),e.length>1&&r.jsx("button",{type:"button",onClick:()=>l(i),className:"btn-delete",children:"\uD83D\uDDD1️ 削除"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{className:"form-label",children:["商品 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("select",{value:s.productId,onChange:e=>n(i,"productId",e.target.value),className:"form-select",children:[r.jsx("option",{value:"",children:"商品を選択してください"}),t.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," - \xa5",e.price.toLocaleString()]},e.id))]}),a?.products?.[i]?.productId&&r.jsx("p",{className:"form-error",children:a.products[i].productId.message})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{className:"form-label",children:["数量 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",min:"1",max:"50",value:s.quantity,onChange:e=>n(i,"quantity",parseInt(e.target.value)||1),className:"form-input",placeholder:"1"}),a?.products?.[i]?.quantity&&r.jsx("p",{className:"form-error",children:a.products[i].quantity.message})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{className:"form-label",children:["引き取り日 ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",value:s.pickupDate,onChange:e=>n(i,"pickupDate",e.target.value),className:"form-input",min:new Date().toISOString().split("T")[0]}),a?.products?.[i]?.pickupDate&&r.jsx("p",{className:"form-error",children:a.products[i].pickupDate.message})]})]}),s.productId&&(0,r.jsxs)("div",{className:"subtotal",children:[r.jsx("span",{className:"text-gray-700",children:"この商品の小計: "}),(0,r.jsxs)("span",{className:"font-bold text-blue-600",children:["\xa5",c(s).toLocaleString()]})]})]})]},i)),r.jsx("button",{type:"button",onClick:()=>{s([...e,{productId:"",quantity:1,pickupDate:""}])},className:"btn-add",children:"➕ 商品を追加"}),e.length>0&&i()>0&&(0,r.jsxs)("div",{className:"total-amount",children:[r.jsx("div",{className:"text-xl text-gray-700 mb-2",children:"合計金額"}),(0,r.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:["\xa5",i().toLocaleString()]})]})]})}function i({reservationData:e,availableProducts:s,onConfirm:t,onEdit:a}){let l=`${e.prefecture}${e.city}${e.town||""}${e.addressDetail}`;return(0,r.jsxs)("div",{className:"form-container",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:"入力内容確認"}),(0,r.jsxs)("div",{className:"space-y-6 mb-8",children:[(0,r.jsxs)("div",{className:"confirmation-item",children:[r.jsx("label",{className:"confirmation-label",children:"お名前"}),r.jsx("p",{className:"confirmation-value",children:e.name})]}),(0,r.jsxs)("div",{className:"confirmation-item",children:[r.jsx("label",{className:"confirmation-label",children:"フリガナ"}),r.jsx("p",{className:"confirmation-value",children:e.furigana})]}),(0,r.jsxs)("div",{className:"confirmation-item",children:[r.jsx("label",{className:"confirmation-label",children:"電話番号"}),r.jsx("p",{className:"confirmation-value",children:e.phone})]}),(0,r.jsxs)("div",{className:"confirmation-item",children:[r.jsx("label",{className:"confirmation-label",children:"ご住所"}),(0,r.jsxs)("p",{className:"confirmation-value",children:["〒",e.zipcode,r.jsx("br",{}),l]})]}),(0,r.jsxs)("div",{className:"confirmation-item",children:[r.jsx("label",{className:"confirmation-label",children:"性別"}),r.jsx("p",{className:"confirmation-value",children:{male:"男性",female:"女性",other:"その他"}[e.gender]})]}),(0,r.jsxs)("div",{className:"confirmation-item",children:[r.jsx("label",{className:"confirmation-label",children:"生年月日"}),r.jsx("p",{className:"confirmation-value",children:e.birthDate})]}),(0,r.jsxs)("div",{className:"confirmation-item",children:[r.jsx("label",{className:"confirmation-label",children:"ご予約商品"}),r.jsx("div",{className:"mt-3 space-y-4",children:e.products?.map((e,t)=>{let a=s.find(s=>s.id===e.productId);return r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xl font-semibold text-gray-900",children:a?.name}),r.jsxs("p",{className:"text-lg text-gray-600 mt-1",children:["数量: ",e.quantity,"個"]}),r.jsxs("p",{className:"text-lg text-gray-600",children:["引き取り日: ",e.pickupDate]})]}),r.jsxs("p",{className:"text-xl font-bold text-blue-600",children:["\xa5",((a?.price||0)*e.quantity).toLocaleString()]})]})},t)})})]}),e.comment&&(0,r.jsxs)("div",{className:"confirmation-item",children:[r.jsx("label",{className:"confirmation-label",children:"店舗へのコメント"}),r.jsx("p",{className:"confirmation-value",children:e.comment})]}),(0,r.jsxs)("div",{className:"total-amount",children:[r.jsx("div",{className:"text-xl text-gray-700 mb-2",children:"合計金額"}),(0,r.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:["\xa5",(e.products?.reduce((e,t)=>{let r=s.find(e=>e.id===t.productId);return e+(r?r.price*t.quantity:0)},0)||0).toLocaleString()]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("button",{onClick:t,className:"btn-primary",children:"✅ 予約を確定する"}),r.jsx("button",{onClick:a,className:"btn-secondary",children:"✏️ 内容を修正する"})]})]})}function c({onManage:e,onNewReservation:s}){return(0,r.jsxs)("div",{className:"form-container text-center",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"予約完了"}),(0,r.jsxs)("div",{className:"text-xl text-gray-600 leading-relaxed",children:[r.jsx("p",{className:"mb-2",children:"ご予約ありがとうございました。"}),r.jsx("p",{className:"mb-4",children:"予約内容の詳細は、お電話でお問い合わせください。"}),(0,r.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200",children:[r.jsx("p",{className:"text-lg font-semibold text-blue-800 mb-2",children:"お問い合わせ先"}),r.jsx("p",{className:"text-xl font-bold text-blue-900",children:"TEL: 0120-XXX-XXX"}),r.jsx("p",{className:"text-base text-blue-700 mt-2",children:"営業時間: 9:00-18:00（土日祝除く）"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("button",{onClick:e,className:"btn-primary",children:"\uD83D\uDCDD 予約を変更・キャンセル"}),r.jsx("button",{onClick:s,className:"btn-secondary",children:"\uD83C\uDD95 新しい予約をする"})]})]})}function o({reservationData:e,onBack:s}){return(0,r.jsxs)("div",{className:"form-container text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"予約の変更・キャンセル"}),r.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-6 mb-8",children:(0,r.jsxs)("div",{className:"text-yellow-800",children:[r.jsx("p",{className:"text-xl font-semibold mb-3",children:"予約の変更・キャンセルについて"}),(0,r.jsxs)("div",{className:"text-lg leading-relaxed space-y-2",children:[r.jsx("p",{children:"予約の変更・キャンセルをご希望の場合は、"}),r.jsx("p",{children:"お電話にてお問い合わせください。"})]})]})}),e&&(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"現在の予約情報"}),r.jsx("div",{className:"bg-gray-50 p-6 rounded-lg text-left border border-gray-200",children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-lg font-medium text-gray-700",children:"お名前: "}),r.jsx("span",{className:"text-lg text-gray-900",children:e.name})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-lg font-medium text-gray-700",children:"電話番号: "}),r.jsx("span",{className:"text-lg text-gray-900",children:e.phone})]})]})})]}),(0,r.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200 mb-8",children:[r.jsx("p",{className:"text-lg font-semibold text-blue-800 mb-2",children:"お問い合わせ先"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900 mb-2",children:"TEL: 0120-XXX-XXX"}),r.jsx("p",{className:"text-base text-blue-700",children:"営業時間: 9:00-18:00（土日祝除く）"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("button",{onClick:()=>{},className:"btn-primary",children:"電話でお問い合わせ"}),r.jsx("button",{onClick:s,className:"btn-secondary",children:"前の画面に戻る"})]})]})}let d=[{id:"tomato",name:"トマトの苗",price:200},{id:"cucumber",name:"きゅうりの苗",price:180},{id:"eggplant",name:"なすの苗",price:220},{id:"pepper",name:"ピーマンの苗",price:190},{id:"lettuce",name:"レタスの種",price:150},{id:"carrot",name:"にんじんの種",price:120},{id:"radish",name:"だいこんの種",price:100},{id:"spinach",name:"ほうれん草の種",price:130}];function m(){let[e,s]=(0,a.useState)("form"),[t,m]=(0,a.useState)(null),[u,x]=(0,a.useState)([{productId:"",quantity:1,pickupDate:""}]),[p,h]=(0,a.useState)({name:"",furigana:"",phone:"",zipcode:"",prefecture:"",city:"",town:"",addressDetail:"",gender:"male",birthDate:""}),[g,f]=(0,a.useState)(""),[j,b]=(0,a.useState)({}),N=()=>{let e={};p.name||(e.name="名前を入力してください"),p.phone||(e.phone="電話番号を入力してください"),(0===u.length||u.every(e=>!e.productId))&&(e.products="最低1つの商品を選択してください");let s=new Date().toISOString().split("T")[0];return u.some(e=>e.pickupDate<s)&&(e.pickupDate="引き取り日は今日以降の日付を選択してください"),b(e),0===Object.keys(e).length};switch(e){case"form":default:return(0,r.jsxs)("div",{className:"form-container",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:"予約情報入力"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),N()&&(m({...p,products:u,comment:g}),s("confirm"))},className:"space-y-8",children:[r.jsx(l,{formData:p,setFormData:h,errors:j}),r.jsx(n,{productItems:u,setProductItems:x,availableProducts:d,errors:j}),(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"店舗へのコメント"}),r.jsx("textarea",{value:g,onChange:e=>f(e.target.value),className:"form-input",rows:4,placeholder:"ご要望やご質問がございましたらご記入ください（500文字以内）"}),j.comment&&r.jsx("p",{className:"form-error",children:j.comment})]}),r.jsx("button",{type:"submit",className:"btn-primary",children:"入力内容を確認する"})]})]});case"confirm":return r.jsx(i,{reservationData:t,availableProducts:d,onConfirm:()=>{s("complete")},onEdit:()=>{s("form")}});case"complete":return r.jsx(c,{onManage:()=>s("manage"),onNewReservation:()=>{h({name:"",furigana:"",phone:"",zipcode:"",prefecture:"",city:"",town:"",addressDetail:"",gender:"male",birthDate:""}),f(""),m(null),x([{productId:"",quantity:1,pickupDate:""}]),b({}),s("form")}});case"manage":return r.jsx(o,{reservationData:t,onBack:()=>s("complete")})}}function u(){return r.jsx("div",{className:"min-h-screen py-8",children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"種苗店予約システム"}),r.jsx(m,{})]})})}},5442:(e,s,t)=>{"use strict";t.d(s,{OQ:()=>i});var r=t(2997);let a="https://uscvsipskkbegcfktjyt.supabase.co",l=null,n=null,i=l=(0,r.eI)(a,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVzY3ZzaXBza2tiZWdjZmt0anl0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI0MDI4MzUsImV4cCI6MjA2Nzk3ODgzNX0.VhcGWXb-PpHTfqPApSIG4C6xXLik8JClsNhOdJIgdzw",{auth:{persistSession:!0,autoRefreshToken:!0,storage:void 0}});(()=>{if(!n){let e=process.env.SUPABASE_SERVICE_ROLE_KEY||"your-service-role-key";n=(0,r.eI)(a,e,{auth:{autoRefreshToken:!1,persistSession:!1}})}})()},3363:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m,metadata:()=>o,viewport:()=>d});var r=t(9510),a=t(5384),l=t.n(a);t(7272);var n=t(8570);(0,n.createProxy)(String.raw`/mnt/c/Claude/インストール/nursery-reservation-system/app/contexts/ToastContext.tsx#useToast`);let i=(0,n.createProxy)(String.raw`/mnt/c/Claude/インストール/nursery-reservation-system/app/contexts/ToastContext.tsx#ToastProvider`);(0,n.createProxy)(String.raw`/mnt/c/Claude/インストール/nursery-reservation-system/app/contexts/AuthContext.tsx#useAuth`);let c=(0,n.createProxy)(String.raw`/mnt/c/Claude/インストール/nursery-reservation-system/app/contexts/AuthContext.tsx#AuthProvider`),o={title:"種苗店予約システム",description:"LINE ミニアプリ対応の種苗店予約システム"},d={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1};function m({children:e}){return r.jsx("html",{lang:"ja",children:r.jsx("body",{className:l().className,children:r.jsx(i,{children:r.jsx(c,{children:e})})})})}},908:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`/mnt/c/Claude/インストール/nursery-reservation-system/app/page.tsx#default`)},7272:()=>{}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[14],()=>t(5002));module.exports=r})();