(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2258:function(e,t,n){Promise.resolve().then(n.bind(n,7464)),Promise.resolve().then(n.bind(n,9703)),Promise.resolve().then(n.t.bind(n,7960,23)),Promise.resolve().then(n.t.bind(n,8003,23)),Promise.resolve().then(n.t.bind(n,4742,23))},6882:function(e,t,n){"use strict";n.d(t,{JO:function(){return eO},PJ:function(){return ew}});var r=n(7437),a=n(9397),o=n(4630),i=n(8930),l=n(2489),s=n(3229),u=n(8867),c=n(3247),d=n(740),f=n(9076),h=n(2660),m=n(6858),p=n(2451),g=n(407),y=n(875),Z=n(8293),v=n(7684),b=n(2369),_=n(5805),x=n(9663),w=n(7692),I=n(1047),O=n(1723),j=n(8736),k=n(804),E=n(2735),S=n(7689),C=n(4794),P=n(6275),M=n(8226),N=n(5252),A=n(3041),T=n(9345),L=n(8335),J=n(8919),q=n(2718),z=n(3774),H=n(2048),R=n(7877),D=n(5302),Q=n(5131),X=n(3639),B=n(3245),F=n(112),V=n(2208),W=n(7769),Y=n(5884),G=n(4415),U=n(6337),K=n(9711),$=n(1567),ee=n(91),et=n(8728),en=n(9637),er=n(7586),ea=n(1473),eo=n(4766),ei=n(2252),el=n(7404),es=n(3057),eu=n(2879),ec=n(9547),ed=n(9646),ef=n(5929),eh=n(1341),em=n(6540),ep=n(6595),eg=n(8997),ey=n(8896),eZ=n(2720),ev=n(1178),eb=n(7414),e_=n(401),ex=n(3388);let ew={add:a.Z,edit:o.Z,delete:i.Z,remove:l.Z,save:s.Z,copy:u.Z,search:c.Z,filter:d.Z,refresh:f.Z,back:h.Z,forward:m.Z,up:p.Z,down:g.Z,chevronDown:y.Z,menu:Z.Z,more:v.Z,user:b.Z,users:_.Z,profile:x.Z,logout:w.Z,calendar:I.Z,clock:O.Z,file:j.Z,document:j.Z,image:k.Z,download:E.Z,upload:S.Z,product:C.Z,cart:P.Z,payment:M.Z,money:N.Z,phone:A.Z,mail:T.Z,link:L.Z,share:J.Z,message:q.Z,location:z.Z,map:H.Z,navigation:R.Z,success:D.Z,error:Q.Z,warning:X.Z,info:B.Z,help:F.Z,eye:V.Z,eyeOff:W.Z,show:V.Z,hide:W.Z,expand:Y.Z,collapse:G.Z,lock:U.Z,unlock:K.Z,security:U.Z,exit:w.Z,chart:$.Z,stats:$.Z,database:ee.Z,settings:et.Z,admin:et.Z,config:et.Z,home:en.Z,dashboard:en.Z,list:er.Z,grid:ea.Z,notification:eo.Z,alert:ei.Z,qrcode:el.Z,plant:es.Z,seed:C.Z,flower:eu.Z,tree:es.Z,leaf:ec.Z,garden:ed.Z,sun:ef.Z,cloud:eh.Z,rain:eh.Z,weather:ef.Z,loading:em.Z,spinner:f.Z,star:ep.Z,heart:eg.Z,target:ey.Z,tag:eZ.Z,bookmark:ev.Z,gift:eb.Z,check:e_.Z,cancel:l.Z,confirm:D.Z,customerInfo:b.Z,reservationInfo:I.Z,otherInfo:j.Z,packageIcon:C.Z,mobileIcon:ex.Z,saveIcon:s.Z,qrIcon:el.Z,searchIcon:c.Z,deleteIcon:i.Z,closeIcon:l.Z,moneyIcon:N.Z},eI={xs:12,sm:16,md:20,lg:24,xl:32,"2xl":48},eO=e=>{let{icon:t,size:n="md",className:a="",color:o,...i}=e,l="number"==typeof n?n:eI[n];return(0,r.jsx)(t,{width:l,height:l,className:a,color:o,...i})}},7464:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return u},a:function(){return s}});var r=n(7437),a=n(2265),o=n(2141),i=n(9703);let l=(0,a.createContext)(void 0),s=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},u=e=>{var t,n;let{children:s}=e,[u,c]=(0,a.useState)(null),[d,f]=(0,a.useState)(null),[h,m]=(0,a.useState)(!0),{showError:p,showSuccess:g}=(0,i.p)(),y=(null==u?void 0:u.email)==="admin@katagiri-shop.com"||(null==u?void 0:null===(t=u.user_metadata)||void 0===t?void 0:t.role)==="admin"||(null==u?void 0:null===(n=u.app_metadata)||void 0===n?void 0:n.role)==="admin";(0,a.useEffect)(()=>{o.OQ.auth.getSession().then(e=>{var t;let{data:{session:n}}=e;f(n),c(null!==(t=null==n?void 0:n.user)&&void 0!==t?t:null),m(!1)});let{data:{subscription:e}}=o.OQ.auth.onAuthStateChange((e,t)=>{var n;f(t),c(null!==(n=null==t?void 0:t.user)&&void 0!==n?n:null),m(!1)});return()=>e.unsubscribe()},[]);let Z=async(e,t)=>{try{m(!0);let{data:a,error:i}=await o.OQ.auth.signInWithPassword({email:e,password:t});if(i)return p("ログインに失敗しました",i.message),!1;if(a.user){var n,r;if(!("admin@katagiri-shop.com"===a.user.email||(null===(n=a.user.user_metadata)||void 0===n?void 0:n.role)==="admin"||(null===(r=a.user.app_metadata)||void 0===r?void 0:r.role)==="admin"))return await o.OQ.auth.signOut(),p("アクセス権限がありません","管理者アカウントでログインしてください"),!1;return g("ログインしました","管理画面へようこそ"),!0}return!1}catch(e){return p("ログインエラー",e.message||"予期しないエラーが発生しました"),!1}finally{m(!1)}},v=async()=>{try{m(!0);let{error:e}=await o.OQ.auth.signOut();e?p("ログアウトに失敗しました",e.message):g("ログアウトしました","")}catch(e){p("ログアウトエラー",e.message)}finally{m(!1)}};return(0,r.jsx)(l.Provider,{value:{user:u,session:d,loading:h,signIn:Z,signOut:v,isAdmin:y},children:s})}},9703:function(e,t,n){"use strict";n.d(t,{ToastProvider:function(){return c},p:function(){return u}});var r=n(7437),a=n(2265),o=n(6882);let i=e=>{let{id:t,type:n,title:i,message:l,duration:s=5e3,onClose:u}=e;return(0,a.useEffect)(()=>{let e=setTimeout(()=>{u(t)},s);return()=>clearTimeout(e)},[t,s,u]),(0,r.jsx)("div",{className:"rounded-lg p-4 border shadow-lg max-w-sm w-full transition-all duration-300 ".concat((()=>{switch(n){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}})()),children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0 ".concat((()=>{switch(n){case"success":return"text-green-500";case"error":return"text-red-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-gray-500"}})()),children:(0,r.jsx)(o.JO,{icon:(()=>{switch(n){case"success":return o.PJ.success;case"error":return o.PJ.error;case"warning":return o.PJ.warning;default:return o.PJ.info}})(),size:"md"})}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[(0,r.jsx)("h3",{className:"text-sm font-medium",children:i}),l&&(0,r.jsx)("p",{className:"text-sm mt-1",children:l})]}),(0,r.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,r.jsx)("button",{onClick:()=>u(t),className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none",children:(0,r.jsx)(o.JO,{icon:o.PJ.cancel,size:"sm"})})})]})})},l=e=>{let{toasts:t,onRemoveToast:n}=e;return(0,r.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(e=>(0,r.jsx)(i,{id:e.id,type:e.type,title:e.title,message:e.message,duration:e.duration,onClose:n},e.id))})},s=(0,a.createContext)(void 0),u=()=>{let e=(0,a.useContext)(s);if(!e)throw Error("useToast must be used within a ToastProvider");return e},c=e=>{let{children:t}=e,[n,o]=(0,a.useState)([]),i=e=>{let t=Math.random().toString(36).substr(2,9),n={...e,id:t};o(e=>[...e,n])};return(0,r.jsxs)(s.Provider,{value:{showToast:i,showSuccess:(e,t)=>{i({type:"success",title:e,message:t})},showError:(e,t)=>{i({type:"error",title:e,message:t})},showWarning:(e,t)=>{i({type:"warning",title:e,message:t})},showInfo:(e,t)=>{i({type:"info",title:e,message:t})}},children:[t,(0,r.jsx)(l,{toasts:n,onRemoveToast:e=>{o(t=>t.filter(t=>t.id!==e))}})]})}},2141:function(e,t,n){"use strict";n.d(t,{OQ:function(){return s}});var r=n(6580),a=n(5566);let o="https://uscvsipskkbegcfktjyt.supabase.co",i=null,l=null,s=i=(0,r.eI)(o,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVzY3ZzaXBza2tiZWdjZmt0anl0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI0MDI4MzUsImV4cCI6MjA2Nzk3ODgzNX0.VhcGWXb-PpHTfqPApSIG4C6xXLik8JClsNhOdJIgdzw",{auth:{persistSession:!0,autoRefreshToken:!0,storage:window.localStorage}});(()=>{if(!l){let e=a.env.SUPABASE_SERVICE_ROLE_KEY||"your-service-role-key";l=(0,r.eI)(o,e,{auth:{autoRefreshToken:!1,persistSession:!1}})}})()},8221:function(e,t){"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{DOMAttributeNames:function(){return r},default:function(){return i},isEqualNode:function(){return o}});let r={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"};function a(e){let{type:t,props:n}=e,a=document.createElement(t);for(let e in n){if(!n.hasOwnProperty(e)||"children"===e||"dangerouslySetInnerHTML"===e||void 0===n[e])continue;let o=r[e]||e.toLowerCase();"script"===t&&("async"===o||"defer"===o||"noModule"===o)?a[o]=!!n[e]:a.setAttribute(o,n[e])}let{children:o,dangerouslySetInnerHTML:i}=n;return i?a.innerHTML=i.__html||"":o&&(a.textContent="string"==typeof o?o:Array.isArray(o)?o.join(""):""),a}function o(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){let n=t.getAttribute("nonce");if(n&&!e.getAttribute("nonce")){let r=t.cloneNode(!0);return r.setAttribute("nonce",""),r.nonce=n,n===e.nonce&&e.isEqualNode(r)}}return e.isEqualNode(t)}function i(){return{mountedInstances:new Set,updateHead:e=>{let t={};e.forEach(e=>{if("link"===e.type&&e.props["data-optimized-fonts"]){if(document.querySelector('style[data-href="'+e.props["data-href"]+'"]'))return;e.props.href=e.props["data-href"],e.props["data-href"]=void 0}let n=t[e.type]||[];n.push(e),t[e.type]=n});let r=t.title?t.title[0]:null,a="";if(r){let{children:e}=r.props;a="string"==typeof e?e:Array.isArray(e)?e.join(""):""}a!==document.title&&(document.title=a),["meta","base","link","style","script"].forEach(e=>{n(e,t[e]||[])})}}}n=(e,t)=>{let n=document.getElementsByTagName("head")[0],r=n.querySelector("meta[name=next-head-count]"),i=Number(r.content),l=[];for(let t=0,n=r.previousElementSibling;t<i;t++,n=(null==n?void 0:n.previousElementSibling)||null){var s;(null==n?void 0:null==(s=n.tagName)?void 0:s.toLowerCase())===e&&l.push(n)}let u=t.map(a).filter(e=>{for(let t=0,n=l.length;t<n;t++)if(o(l[t],e))return l.splice(t,1),!1;return!0});l.forEach(e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),u.forEach(e=>n.insertBefore(e,r)),r.content=(i-l.length+u.length).toString()},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3515:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{cancelIdleCallback:function(){return r},requestIdleCallback:function(){return n}});let n="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},r="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8003:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return v},handleClientScriptLoad:function(){return g},initScriptLoader:function(){return y}});let r=n(7043),a=n(3099),o=n(7437),i=r._(n(4887)),l=a._(n(2265)),s=n(8701),u=n(8221),c=n(3515),d=new Map,f=new Set,h=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"],m=e=>{if(i.default.preinit){e.forEach(e=>{i.default.preinit(e,{as:"style"})});return}if("undefined"!=typeof window){let t=document.head;e.forEach(e=>{let n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.appendChild(n)})}},p=e=>{let{src:t,id:n,onLoad:r=()=>{},onReady:a=null,dangerouslySetInnerHTML:o,children:i="",strategy:l="afterInteractive",onError:s,stylesheets:c}=e,p=n||t;if(p&&f.has(p))return;if(d.has(t)){f.add(p),d.get(t).then(r,s);return}let g=()=>{a&&a(),f.add(p)},y=document.createElement("script"),Z=new Promise((e,t)=>{y.addEventListener("load",function(t){e(),r&&r.call(this,t),g()}),y.addEventListener("error",function(e){t(e)})}).catch(function(e){s&&s(e)});for(let[n,r]of(o?(y.innerHTML=o.__html||"",g()):i?(y.textContent="string"==typeof i?i:Array.isArray(i)?i.join(""):"",g()):t&&(y.src=t,d.set(t,Z)),Object.entries(e))){if(void 0===r||h.includes(n))continue;let e=u.DOMAttributeNames[n]||n.toLowerCase();y.setAttribute(e,r)}"worker"===l&&y.setAttribute("type","text/partytown"),y.setAttribute("data-nscript",l),c&&m(c),document.body.appendChild(y)};function g(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>p(e))}):p(e)}function y(e){e.forEach(g),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");f.add(t)})}function Z(e){let{id:t,src:n="",onLoad:r=()=>{},onReady:a=null,strategy:u="afterInteractive",onError:d,stylesheets:h,...m}=e,{updateScripts:g,scripts:y,getIsSsr:Z,appDir:v,nonce:b}=(0,l.useContext)(s.HeadManagerContext),_=(0,l.useRef)(!1);(0,l.useEffect)(()=>{let e=t||n;_.current||(a&&e&&f.has(e)&&a(),_.current=!0)},[a,t,n]);let x=(0,l.useRef)(!1);if((0,l.useEffect)(()=>{!x.current&&("afterInteractive"===u?p(e):"lazyOnload"===u&&("complete"===document.readyState?(0,c.requestIdleCallback)(()=>p(e)):window.addEventListener("load",()=>{(0,c.requestIdleCallback)(()=>p(e))})),x.current=!0)},[e,u]),("beforeInteractive"===u||"worker"===u)&&(g?(y[u]=(y[u]||[]).concat([{id:t,src:n,onLoad:r,onReady:a,onError:d,...m}]),g(y)):Z&&Z()?f.add(t||n):Z&&!Z()&&p(e)),v){if(h&&h.forEach(e=>{i.default.preinit(e,{as:"style"})}),"beforeInteractive"===u)return n?(i.default.preload(n,m.integrity?{as:"script",integrity:m.integrity,nonce:b,crossOrigin:m.crossOrigin}:{as:"script",nonce:b,crossOrigin:m.crossOrigin}),(0,o.jsx)("script",{nonce:b,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([n,{...m,id:t}])+")"}})):(m.dangerouslySetInnerHTML&&(m.children=m.dangerouslySetInnerHTML.__html,delete m.dangerouslySetInnerHTML),(0,o.jsx)("script",{nonce:b,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...m,id:t}])+")"}}));"afterInteractive"===u&&n&&i.default.preload(n,m.integrity?{as:"script",integrity:m.integrity,nonce:b,crossOrigin:m.crossOrigin}:{as:"script",nonce:b,crossOrigin:m.crossOrigin})}return null}Object.defineProperty(Z,"__nextScript",{value:!0});let v=Z;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7960:function(){},4742:function(e){e.exports={style:{fontFamily:"'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'",fontStyle:"normal"},className:"__className_e8ce0c"}}},function(e){e.O(0,[540,789,901,971,117,744],function(){return e(e.s=2258)}),_N_E=e.O()}]);